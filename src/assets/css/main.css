/* JetBrains Mono - Primary font for entire site */
@import url("https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&display=swap");

@import "tailwindcss";

/* Configure dark mode to use class-based selector instead of prefers-color-scheme */
@custom-variant dark (&:where(.dark, .dark *));

/* ==========================================================================
   NEOBRUTALIST DESIGN SYSTEM
   Warm Purple/Violet Accent | Hard Shadows | Bold Borders | Playful Energy
   ========================================================================== */

/* ==========================================================================
   COLOR PALETTE SYSTEM - Edit palettes here
   To add a new palette: copy a [data-palette] block and change the 3 colors
   ========================================================================== */

/* Default: Violet */
:root {
  --palette-dark: #3b0764;
  --palette-light: #fffbeb;
  --palette-accent: #9333ea;
}

/* Rugged Earthly */
[data-palette="earthly"] {
  --palette-dark: #4E4B3A;
  --palette-light: #C4C4A1;
  --palette-accent: #D77D00;
}

/* Futuristic Primitive */
[data-palette="futuristic"] {
  --palette-dark: #4A4E69;
  --palette-light: #C9CBAE;
  --palette-accent: #9A8C98;
}

/* Harmonious Forms in Bold Colors */
[data-palette="harmonious"] {
  --palette-dark: #4B0082;
  --palette-light: #F5F5F5;
  --palette-accent: #FFC300;
}

/* --- Semantic Tokens (Light Mode) --- */
:root {
  --color-bg: var(--palette-light);
  --color-surface: #fff;
  --color-text: var(--palette-dark);
  --color-accent: var(--palette-accent);
  --color-border: #000;
  --color-shadow: #000;
}

/* --- Semantic Tokens (Dark Mode) --- */
.dark {
  --color-bg: var(--palette-dark);
  --color-surface: #292524;
  --color-text: var(--palette-light);
  --color-border: #fff;
  --color-shadow: #fff;
}

@theme {
  /* Legacy mappings for Tailwind classes */
  --color-primary-200: var(--palette-light);
  --color-primary-400: var(--palette-accent);
  --color-primary-600: var(--palette-accent);
  --color-primary-700: var(--palette-dark);
  --color-primary-800: var(--palette-dark);

  --color-bg-light: var(--palette-light);
  --color-bg-dark: var(--palette-dark);

  /* Dynamic shadows - auto-switch in dark mode */
  --shadow-neo: 4px 4px 0 0 var(--color-shadow);
  --shadow-neo-lg: 6px 6px 0 0 var(--color-shadow);
  --shadow-neo-hover: 2px 2px 0 0 var(--color-shadow);

  /* Fonts - Single source of truth */
  --font-primary: "JetBrains Mono", monospace;
  --font-sans: var(--font-primary);
  --font-display: var(--font-primary);
  --font-mono: var(--font-primary);
}

/* Base styles */
html {
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-sans);
  @apply antialiased;
  background-color: var(--color-bg-light);
}

/* Dark mode body */
.dark body {
  background-color: var(--color-bg-dark);
}

/* Focus styles for accessibility */
*:focus-visible {
  @apply outline-2 outline-offset-2 outline-black;
}

.dark *:focus-visible {
  @apply outline-white;
}

/* Remove smooth transitions - neobrutalism prefers snappy interactions */
* {
  @apply transition-none;
}

/* But allow transform transitions for hover effects */
.neo-hover {
  transition: transform 0.1s ease-out, box-shadow 0.1s ease-out;
}

/* ==========================================================================
   NEOBRUTALIST UTILITY CLASSES
   ========================================================================== */

/* Hard shadow cards */
.neo-card {
  @apply border-2 bg-white;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo);
}

.neo-card:hover {
  transform: translate(-2px, -2px);
  box-shadow: var(--shadow-neo-lg);
}

.dark .neo-card {
  @apply bg-stone-900;
}

/* Accent card variant */
.neo-card-accent {
  @apply border-2;
  border-color: var(--color-border);
  background-color: var(--color-primary-200);
  box-shadow: var(--shadow-neo);
}

.dark .neo-card-accent {
  background-color: var(--color-primary-800);
}

/* Neobrutalist buttons */
.neo-btn {
  @apply px-4 py-2 font-bold border-2 bg-white;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo);
  transition: transform 0.1s ease-out, box-shadow 0.1s ease-out;
}

.neo-btn:hover {
  transform: translate(-2px, -2px);
  box-shadow: var(--shadow-neo-lg);
}

.neo-btn:active {
  transform: translate(2px, 2px);
  box-shadow: none;
}

.neo-btn-primary {
  @apply px-4 py-2 font-bold border-2 text-white;
  border-color: var(--color-border);
  background-color: var(--color-primary-600);
  box-shadow: var(--shadow-neo);
  transition: transform 0.1s ease-out, box-shadow 0.1s ease-out;
}

.neo-btn-primary:hover {
  transform: translate(-2px, -2px);
  box-shadow: var(--shadow-neo-lg);
}

.neo-btn-primary:active {
  transform: translate(2px, 2px);
  box-shadow: none;
}

/* Tags/badges */
.neo-tag {
  @apply px-2 py-1 text-xs font-bold border-2 bg-white;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo-hover);
}

.neo-tag-accent {
  @apply px-2 py-1 text-xs font-bold border-2;
  border-color: var(--color-border);
  background-color: var(--color-primary-200);
  box-shadow: var(--shadow-neo-hover);
}

.dark .neo-tag {
  @apply bg-stone-800 text-white;
}

.dark .neo-tag-accent {
  @apply text-white;
  background-color: var(--color-primary-700);
}

/* Borders */
.neo-border {
  @apply border-2;
  border-color: var(--color-border);
}

.neo-border-thick {
  @apply border-4;
  border-color: var(--color-border);
}

/* Section dividers */
.neo-divider {
  @apply border-t-4;
  border-color: var(--color-border);
}

/* Custom link styles */
a {
  @apply underline-offset-2;
}

/* Code blocks with neobrutalist style */
code {
  font-family: var(--font-mono);
  @apply text-sm;
}

pre {
  @apply border-2 bg-white;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo);
}

pre code {
  @apply block overflow-x-auto p-4;
}

.dark pre {
  @apply bg-stone-900;
}

/* Headings with display font */
h1, h2, h3 {
  font-family: var(--font-display);
}

/* Prose adjustments for neobrutalist feel */
.prose a {
  @apply text-primary-600 font-semibold;
  text-decoration-thickness: 2px;
}

.dark .prose a {
  @apply text-primary-400;
}

.prose strong {
  @apply font-bold;
}

/* Override prose colors for better contrast on cream background */
.prose {
  --tw-prose-body: #292524;
  --tw-prose-headings: #000;
  --tw-prose-bold: #000;
  color: #292524 !important;
}

.prose p, .prose li, .prose blockquote {
  color: #292524;
}

.prose strong {
  color: #000;
}

.dark .prose {
  --tw-prose-body: #d6d3d1;
  --tw-prose-headings: #fff;
  --tw-prose-bold: #fff;
  color: #d6d3d1 !important;
}

.dark .prose p, .dark .prose li, .dark .prose blockquote {
  color: #d6d3d1;
}

.dark .prose strong {
  color: #fff;
}

/* Avatar with neobrutalist border */
.neo-avatar {
  @apply border-4;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo);
}

/* Stats/numbers with accent background */
.neo-stat {
  @apply font-bold;
  font-family: var(--font-display);
  color: var(--color-primary-600);
}

.dark .neo-stat {
  color: var(--color-primary-400);
}

/* Icon boxes */
.neo-icon-box {
  @apply w-12 h-12 flex items-center justify-center border-2;
  border-color: var(--color-border);
  background-color: var(--color-primary-200);
  box-shadow: var(--shadow-neo-hover);
}

.dark .neo-icon-box {
  background-color: var(--color-primary-800);
}

/* Input fields */
.neo-input {
  @apply w-full px-4 py-2 border-2 bg-white;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo);
}

.neo-input:focus {
  @apply outline-none;
  box-shadow: var(--shadow-neo-lg);
}

.dark .neo-input {
  @apply bg-stone-900 text-white;
}

/* Marquee/highlight sections */
.neo-highlight {
  @apply py-4 border-y-4;
  border-color: var(--color-border);
  background-color: var(--color-primary-200);
}

.dark .neo-highlight {
  background-color: var(--color-primary-900);
}

/* Navigation active state */
.neo-nav-active {
  @apply border-2 font-bold;
  border-color: var(--color-border);
  background-color: var(--color-primary-200);
  box-shadow: var(--shadow-neo-hover);
}

.dark .neo-nav-active {
  background-color: var(--color-primary-800);
}
