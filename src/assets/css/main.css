/* JetBrains Mono - Display/UI font | Source Sans 3 - Body font
   Weights: 400 (normal), 600 (semibold), 700 (bold) - reduced from 7 to 5 weights for faster loading */
@import url("https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Source+Sans+3:wght@400;600;700&display=swap");

@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* Configure dark mode to use class-based selector instead of prefers-color-scheme */
@custom-variant dark (&:where(.dark, .dark *));

/* ==========================================================================
   NEOBRUTALIST DESIGN SYSTEM
   Warm Purple/Violet Accent | Hard Shadows | Bold Borders | Playful Energy
   ========================================================================== */

/* ==========================================================================
   COLOR PALETTE - Bold and Raw Neobrutalism
   ========================================================================== */

:root {
  --palette-dark: #262626;
  --palette-light: #f0f2f8;
  --palette-accent: #4338ca;
  --palette-accent-vivid: #4f46e5;
}

/* --- Semantic Tokens (Light Mode) --- */
:root {
  --color-bg: var(--palette-light);
  --color-surface: #fff;
  --color-text: var(--palette-dark);
  --color-accent: var(--palette-accent);
  --color-link: var(--palette-dark);  /* Use dark for links - always high contrast on light */
  --color-border: #000;
  --color-shadow: #000;
}

/* --- Semantic Tokens (Dark Mode) --- */
.dark {
  --color-bg: var(--palette-dark);
  --color-surface: #292524;
  --color-text: var(--palette-light);
  --color-link: var(--palette-light);  /* Use light for links - always high contrast on dark */
  --color-border: #fff;
  --color-shadow: #fff;
}

@theme {
  /* Legacy mappings for Tailwind classes */
  --color-primary-200: var(--palette-light);
  --color-primary-300: var(--palette-light);
  --color-primary-400: var(--palette-accent);
  --color-primary-600: var(--palette-accent);
  --color-primary-700: var(--palette-dark);
  --color-primary-800: var(--palette-dark);
  --color-primary-900: var(--palette-dark);

  --color-bg-light: var(--palette-light);
  --color-bg-dark: var(--palette-dark);

  /* Dynamic shadows - auto-switch in dark mode */
  --shadow-neo: 4px 4px 0 0 var(--color-shadow);
  --shadow-neo-lg: 6px 6px 0 0 var(--color-shadow);
  --shadow-neo-hover: 2px 2px 0 0 var(--color-shadow);

  /* Fonts - Display (headings/UI) vs Body (prose) */
  --font-display: "JetBrains Mono", monospace;
  --font-body: "Source Sans 3", system-ui, sans-serif;
  --font-mono: "JetBrains Mono", monospace;

  /* Tailwind mappings */
  --font-sans: var(--font-body);
}

/* Base styles */
html {
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-body);
  @apply antialiased;
  background-color: var(--color-bg-light);
  font-size: 1.0625rem; /* 17px - slightly larger for better readability */
  line-height: 1.6;
}

/* Dark mode body */
.dark body {
  background-color: var(--color-bg-dark);
}

/* Focus styles for accessibility */
*:focus-visible {
  @apply outline-2 outline-offset-2 outline-black;
}

.dark *:focus-visible {
  @apply outline-white;
}

/* Remove smooth transitions - neobrutalism prefers snappy interactions */
* {
  @apply transition-none;
}

/* But allow transform transitions for hover effects */
.neo-hover {
  transition: transform 0.1s ease-out, box-shadow 0.1s ease-out;
}

/* Sticky header performance optimization */
header.sticky {
  contain: layout style;
  will-change: transform;
  backface-visibility: hidden;
}

/* ==========================================================================
   NEOBRUTALIST UTILITY CLASSES
   ========================================================================== */

/* Hard shadow cards - AMPLIFIED hover */
.neo-card {
  @apply border-2 bg-white;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo);
  transition: transform 0.25s var(--ease-out-quart),
              box-shadow 0.25s var(--ease-out-quart),
              border-color 0.25s var(--ease-out-quart);
}

.neo-card:hover {
  transform: translate(-4px, -4px);
  box-shadow: 8px 8px 0 0 var(--color-shadow);
  border-color: var(--palette-accent);
}

.dark .neo-card {
  @apply bg-stone-900;
}

/* Card with accent reveal on hover */
.neo-card-reveal {
  @apply border-2 bg-white relative overflow-hidden;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo);
  transition: transform 0.25s var(--ease-out-quart),
              box-shadow 0.25s var(--ease-out-quart);
}

.neo-card-reveal::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 5px;
  height: 100%;
  background-color: var(--palette-accent);
  transform: scaleY(0);
  transform-origin: bottom;
  transition: transform 0.3s var(--ease-out-quart);
}

.neo-card-reveal:hover {
  transform: translate(-4px, -4px);
  box-shadow: 8px 8px 0 0 var(--color-shadow);
}

.neo-card-reveal:hover::before {
  transform: scaleY(1);
}

.dark .neo-card-reveal {
  @apply bg-stone-900;
}

/* Accent card variant */
.neo-card-accent {
  @apply border-2;
  border-color: var(--color-border);
  background-color: var(--color-primary-200);
  box-shadow: var(--shadow-neo);
}

.dark .neo-card-accent {
  background-color: var(--color-primary-800);
}

/* Neobrutalist buttons - AMPLIFIED */
.neo-btn {
  @apply px-5 py-2.5 font-bold border-2 bg-white dark:bg-stone-900;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo);
  transition: transform 0.2s var(--ease-out-quart),
              box-shadow 0.2s var(--ease-out-quart),
              background-color 0.2s var(--ease-out-quart);
}

.neo-btn:hover {
  transform: translate(-3px, -3px);
  box-shadow: 7px 7px 0 0 var(--color-shadow);
  background-color: var(--palette-light);
}

.neo-btn:active {
  transform: translate(2px, 2px);
  box-shadow: none;
  transition-duration: 0.05s;
}

.neo-btn-primary {
  @apply px-5 py-2.5 font-bold border-2 text-white;
  border-color: var(--color-border);
  background-color: var(--palette-accent);
  box-shadow: var(--shadow-neo);
  transition: transform 0.2s var(--ease-out-quart),
              box-shadow 0.2s var(--ease-out-quart),
              background-color 0.2s var(--ease-out-quart);
}

.neo-btn-primary:hover {
  transform: translate(-3px, -3px);
  box-shadow: 7px 7px 0 0 var(--color-shadow);
  background-color: var(--palette-accent-vivid, var(--palette-accent));
}

.neo-btn-primary:active {
  transform: translate(2px, 2px);
  box-shadow: none;
  transition-duration: 0.05s;
}

/* Tags/badges */
.neo-tag {
  @apply px-2 py-1 text-xs font-bold border-2 bg-white;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo-hover);
}

.neo-tag-accent {
  @apply px-2 py-1 text-xs font-bold border-2;
  border-color: var(--color-border);
  background-color: var(--color-primary-200);
  box-shadow: var(--shadow-neo-hover);
}

.dark .neo-tag {
  @apply bg-stone-800 text-white;
}

.dark .neo-tag-accent {
  @apply text-white;
  background-color: var(--color-primary-700);
}

/* Borders */
.neo-border {
  @apply border-2;
  border-color: var(--color-border);
}

.neo-border-thick {
  @apply border-4;
  border-color: var(--color-border);
}

/* Section dividers */
.neo-divider {
  @apply border-t-4;
  border-color: var(--color-border);
}

/* Custom link styles */
a {
  @apply underline-offset-2;
}

/* Code blocks with neobrutalist style */
code {
  font-family: var(--font-mono);
  @apply text-sm;
}

pre {
  @apply border-2 bg-white;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo);
}

pre code {
  @apply block overflow-x-auto p-4;
}

.dark pre {
  @apply bg-stone-900;
}

/* Headings with display font (JetBrains Mono for that engineer feel) */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-display);
  letter-spacing: -0.025em;
}

/* UI elements use display font for consistency */
nav, button, .neo-btn, .neo-tag, .neo-nav-active, label, th {
  font-family: var(--font-display);
}

/* Prose adjustments - readable body text with character */
.prose {
  font-family: var(--font-body);
  --tw-prose-body: var(--palette-dark);
  --tw-prose-headings: var(--palette-dark);
  --tw-prose-bold: var(--palette-dark);
  color: var(--palette-dark);
  font-size: 1.0625rem;
  line-height: 1.7;
}

.prose a {
  @apply font-semibold;
  color: var(--color-link);
  text-decoration-thickness: 2px;
}

/* Dark mode uses --color-link which is already set to palette-light */

.prose strong {
  @apply font-bold;
  color: var(--palette-dark);
}

.prose p, .prose li, .prose blockquote {
  color: var(--palette-dark);
}

/* Prose headings keep the monospace character */
.prose h1, .prose h2, .prose h3, .prose h4 {
  font-family: var(--font-display);
  letter-spacing: -0.025em;
}

.dark .prose {
  --tw-prose-body: var(--palette-light);
  --tw-prose-headings: var(--palette-light);
  --tw-prose-bold: var(--palette-light);
  color: var(--palette-light);
}

.dark .prose p, .dark .prose li, .dark .prose blockquote {
  color: var(--palette-light);
}

.dark .prose strong {
  color: var(--palette-light);
}

/* Avatar with neobrutalist border - AMPLIFIED */
.neo-avatar {
  @apply border-4;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo-lg);
  transition: transform 0.3s var(--ease-out-quart),
              box-shadow 0.3s var(--ease-out-quart);
}

.neo-avatar:hover {
  transform: translate(-4px, -4px) rotate(2deg);
  box-shadow: 10px 10px 0 0 var(--color-shadow);
}

/* Stats/numbers with accent background */
.neo-stat {
  @apply font-bold;
  font-family: var(--font-display);
  color: var(--color-primary-600);
}

.dark .neo-stat {
  color: var(--color-primary-400);
}

/* Icon boxes - AMPLIFIED */
.neo-icon-box {
  @apply w-14 h-14 flex items-center justify-center border-2;
  border-color: var(--color-border);
  background-color: var(--palette-light);
  box-shadow: var(--shadow-neo-hover);
  transition: transform 0.25s var(--ease-out-quart),
              box-shadow 0.25s var(--ease-out-quart),
              background-color 0.25s var(--ease-out-quart);
}

/* Icon box animates on parent hover */
.group:hover .neo-icon-box {
  transform: translate(-2px, -2px) rotate(-5deg);
  box-shadow: 4px 4px 0 0 var(--color-shadow);
  background-color: var(--palette-accent);
}

.group:hover .neo-icon-box svg {
  color: white;
  transition: color 0.25s var(--ease-out-quart);
}

.dark .neo-icon-box {
  background-color: var(--palette-dark);
}

.dark .group:hover .neo-icon-box {
  background-color: var(--palette-accent);
}

/* Input fields */
.neo-input {
  @apply w-full px-4 py-2 border-2 bg-white;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo);
}

.neo-input:focus {
  @apply outline-none;
  box-shadow: var(--shadow-neo-lg);
}

.dark .neo-input {
  @apply bg-stone-900 text-white;
}

/* Marquee/highlight sections */
.neo-highlight {
  @apply py-4 border-y-4;
  border-color: var(--color-border);
  background-color: var(--color-primary-200);
}

.dark .neo-highlight {
  background-color: var(--color-primary-900);
}

/* Navigation - Bold neobrutalist treatment - AMPLIFIED */
.neo-nav-item {
  @apply border-2 font-bold uppercase tracking-wide;
  position: relative;
  border-color: transparent;
  transition: transform 0.2s var(--ease-out-quart),
              box-shadow 0.2s var(--ease-out-quart),
              background-color 0.2s var(--ease-out-quart),
              border-color 0.2s var(--ease-out-quart);
}

.neo-nav-item::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 0;
  height: 3px;
  background-color: var(--palette-accent);
  transition: width 0.25s var(--ease-out-quart),
              left 0.25s var(--ease-out-quart);
}

.neo-nav-item:hover {
  z-index: 10;
  border-color: var(--color-border);
  background-color: var(--palette-light);
  transform: translate(-2px, -2px);
  box-shadow: 3px 3px 0 0 var(--color-border);
}

.neo-nav-item:hover::after {
  width: 100%;
  left: 0;
}

.dark .neo-nav-item:hover {
  background-color: var(--palette-dark);
}

/* Active state - prominent "you are here" signal - AMPLIFIED */
.neo-nav-active {
  @apply border-2 font-bold uppercase tracking-wide;
  position: relative;
  z-index: 5;
  border-color: var(--color-border);
  background-color: var(--palette-accent);
  color: white;
  box-shadow: var(--shadow-neo);
}

.dark .neo-nav-active {
  background-color: var(--palette-accent);
  color: white;
}

/* ==========================================================================
   SPACING RHYTHM SYSTEM
   Creates visual hierarchy through varied spacing
   ========================================================================== */

/* Section spacing - creates breathing room between major content blocks */
.section-tight {
  @apply py-8 md:py-12;  /* 32-48px - for dense, related content */
}

.section-normal {
  @apply py-12 md:py-16;  /* 48-64px - standard sections */
}

.section-relaxed {
  @apply py-16 md:py-24;  /* 64-96px - primary content, hero areas */
}

.section-generous {
  @apply py-20 md:py-32;  /* 80-128px - major breaks, featured content */
}

/* Content spacing within sections */
.content-tight {
  @apply space-y-3;  /* 12px - tightly related items */
}

.content-normal {
  @apply space-y-6;  /* 24px - standard content flow */
}

.content-relaxed {
  @apply space-y-8 md:space-y-12;  /* 32-48px - distinct content blocks */
}

/* Heading to content spacing */
.heading-space-tight {
  @apply mb-4;  /* 16px */
}

.heading-space-normal {
  @apply mb-6 md:mb-8;  /* 24-32px */
}

.heading-space-relaxed {
  @apply mb-8 md:mb-12;  /* 32-48px */
}

/* ==========================================================================
   DRAMATIC TYPE SCALE - Confident Academic Energy
   Base: 17px | Uses fluid sizing for dramatic jumps
   ========================================================================== */

/* Display headlines - commanding presence */
.type-display {
  font-family: var(--font-display);
  font-size: clamp(2.75rem, 7vw, 5rem);
  line-height: 0.95;
  letter-spacing: -0.04em;
  font-weight: 700;
}

/* Page titles - strong but subordinate to display */
.type-title {
  font-family: var(--font-display);
  font-size: clamp(1.875rem, 4.5vw, 3rem);
  line-height: 1.05;
  letter-spacing: -0.03em;
  font-weight: 700;
}

/* Section headings - clear hierarchy */
.type-heading {
  font-family: var(--font-display);
  font-size: clamp(1.375rem, 2.5vw, 2rem);
  line-height: 1.15;
  letter-spacing: -0.025em;
  font-weight: 700;
}

/* Taglines/subtitles - accent emphasis */
.type-tagline {
  font-family: var(--font-display);
  font-size: clamp(1rem, 2vw, 1.375rem);
  line-height: 1.3;
  letter-spacing: 0.02em;
  font-weight: 600;
  text-transform: uppercase;
}

/* ==========================================================================
   MOTION SYSTEM - Purposeful, Professional Animation
   Uses exponential easing (ease-out-quart) for confident deceleration
   ========================================================================== */

/* Custom easing curves */
:root {
  --ease-out-quart: cubic-bezier(0.25, 1, 0.5, 1);
  --ease-out-quint: cubic-bezier(0.22, 1, 0.36, 1);
  --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Page entrance animations - staggered reveals */
@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.92);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Entrance animation classes */
.animate-on-load {
  animation: slideUp 0.5s var(--ease-out-quart) both;
}

.animate-on-load-delay-1 {
  animation: slideUp 0.5s var(--ease-out-quart) 0.08s both;
}

.animate-on-load-delay-2 {
  animation: slideUp 0.5s var(--ease-out-quart) 0.16s both;
}

.animate-on-load-delay-3 {
  animation: slideUp 0.5s var(--ease-out-quart) 0.24s both;
}

.animate-on-load-delay-4 {
  animation: slideUp 0.5s var(--ease-out-quart) 0.32s both;
}

/* Scale entrance for avatar */
.animate-scale-in {
  animation: scaleIn 0.45s var(--ease-out-quint) both;
}

/* Scroll-triggered animations via Intersection Observer */
.reveal-on-scroll {
  opacity: 0;
  transform: translateY(16px);
  transition: opacity 0.45s var(--ease-out-quart),
              transform 0.45s var(--ease-out-quart);
}

.reveal-on-scroll.is-visible {
  opacity: 1;
  transform: translateY(0);
}

/* Stagger children on scroll reveal */
.reveal-stagger > * {
  opacity: 0;
  transform: translateY(12px);
  transition: opacity 0.4s var(--ease-out-quart),
              transform 0.4s var(--ease-out-quart);
}

.reveal-stagger.is-visible > *:nth-child(1) { transition-delay: 0s; }
.reveal-stagger.is-visible > *:nth-child(2) { transition-delay: 0.06s; }
.reveal-stagger.is-visible > *:nth-child(3) { transition-delay: 0.12s; }
.reveal-stagger.is-visible > *:nth-child(4) { transition-delay: 0.18s; }
.reveal-stagger.is-visible > *:nth-child(5) { transition-delay: 0.24s; }
.reveal-stagger.is-visible > *:nth-child(6) { transition-delay: 0.30s; }

.reveal-stagger.is-visible > * {
  opacity: 1;
  transform: translateY(0);
}

/* ==========================================================================
   SOCIAL LINKS - AMPLIFIED
   ========================================================================== */

.neo-social-link {
  @apply w-11 h-11 flex items-center justify-center border-2 bg-white no-underline;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo-hover);
  transition: transform 0.2s var(--ease-out-quart),
              box-shadow 0.2s var(--ease-out-quart),
              background-color 0.2s var(--ease-out-quart),
              color 0.2s var(--ease-out-quart);
}

.neo-social-link:hover {
  transform: translate(-2px, -2px) rotate(-5deg);
  box-shadow: 4px 4px 0 0 var(--color-shadow);
  background-color: var(--palette-accent);
  color: white;
}

.neo-social-link:active {
  transform: translate(1px, 1px) rotate(0deg);
  box-shadow: none;
}

.dark .neo-social-link {
  @apply bg-stone-900;
}

/* ==========================================================================
   THEME TOGGLE
   ========================================================================== */

.neo-toggle {
  box-shadow: var(--shadow-neo-hover);
}

/* ==========================================================================
   HERO UTILITIES
   ========================================================================== */

/* Decorative tilted accent square behind avatar */
.neo-avatar-accent {
  border-color: var(--palette-accent);
  transform: rotate(-3deg);
}

/* Accent text color using design system variable */
.text-accent {
  color: var(--palette-accent);
}
