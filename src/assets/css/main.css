/* JetBrains Mono - Display/UI font | Source Sans 3 - Body font */
@import url("https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Source+Sans+3:wght@400;500;600;700&display=swap");

@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* Configure dark mode to use class-based selector instead of prefers-color-scheme */
@custom-variant dark (&:where(.dark, .dark *));

/* ==========================================================================
   NEOBRUTALIST DESIGN SYSTEM
   Warm Purple/Violet Accent | Hard Shadows | Bold Borders | Playful Energy
   ========================================================================== */

/* ==========================================================================
   COLOR PALETTE SYSTEM - Edit palettes here
   To add a new palette: copy a [data-palette] block and change the 3 colors
   ========================================================================== */

/* Default: Violet */
:root {
  --palette-dark: #3b0764;
  --palette-light: #fffbeb;
  --palette-accent: #9333ea;
}

/* Rugged Earthly */
[data-palette="earthly"] {
  --palette-dark: #4E4B3A;
  --palette-light: #C4C4A1;
  --palette-accent: #A05000;  /* Rich amber - balanced for light mode */
}

/* Futuristic Primitive */
[data-palette="futuristic"] {
  --palette-dark: #4A4E69;
  --palette-light: #C9CBAE;
  --palette-accent: #6B5B7A;  /* Muted purple - works on light backgrounds */
}

/* Harmonious Forms in Bold Colors */
[data-palette="harmonious"] {
  --palette-dark: #4B0082;
  --palette-light: #F5F5F5;
  --palette-accent: #D97706;  /* Amber gold - passes AA on white */
}

/* Concrete Jungle */
[data-palette="concrete"] {
  --palette-dark: #212121;
  --palette-light: #F5F5F5;
  --palette-accent: #C62828;  /* Deep red - high contrast on light */
}

/* Bold and Raw NEOBRUTALISM */
[data-palette="boldraw"] {
  --palette-dark: #333333;
  --palette-light: #E5E5E5;
  --palette-accent: #C62828;  /* Deep red - punchy neobrutalist feel */
}

/* --- Semantic Tokens (Light Mode) --- */
:root {
  --color-bg: var(--palette-light);
  --color-surface: #fff;
  --color-text: var(--palette-dark);
  --color-accent: var(--palette-accent);
  --color-link: var(--palette-dark);  /* Use dark for links - always high contrast on light */
  --color-border: #000;
  --color-shadow: #000;
}

/* --- Semantic Tokens (Dark Mode) --- */
.dark {
  --color-bg: var(--palette-dark);
  --color-surface: #292524;
  --color-text: var(--palette-light);
  --color-link: var(--palette-light);  /* Use light for links - always high contrast on dark */
  --color-border: #fff;
  --color-shadow: #fff;
}

@theme {
  /* Legacy mappings for Tailwind classes */
  --color-primary-200: var(--palette-light);
  --color-primary-300: var(--palette-light);
  --color-primary-400: var(--palette-accent);
  --color-primary-600: var(--palette-accent);
  --color-primary-700: var(--palette-dark);
  --color-primary-800: var(--palette-dark);

  --color-bg-light: var(--palette-light);
  --color-bg-dark: var(--palette-dark);

  /* Dynamic shadows - auto-switch in dark mode */
  --shadow-neo: 4px 4px 0 0 var(--color-shadow);
  --shadow-neo-lg: 6px 6px 0 0 var(--color-shadow);
  --shadow-neo-hover: 2px 2px 0 0 var(--color-shadow);

  /* Fonts - Display (headings/UI) vs Body (prose) */
  --font-display: "JetBrains Mono", monospace;
  --font-body: "Source Sans 3", system-ui, sans-serif;
  --font-mono: "JetBrains Mono", monospace;

  /* Tailwind mappings */
  --font-sans: var(--font-body);
}

/* Base styles */
html {
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-body);
  @apply antialiased;
  background-color: var(--color-bg-light);
  font-size: 1.0625rem; /* 17px - slightly larger for better readability */
  line-height: 1.6;
}

/* Dark mode body */
.dark body {
  background-color: var(--color-bg-dark);
}

/* Focus styles for accessibility */
*:focus-visible {
  @apply outline-2 outline-offset-2 outline-black;
}

.dark *:focus-visible {
  @apply outline-white;
}

/* Remove smooth transitions - neobrutalism prefers snappy interactions */
* {
  @apply transition-none;
}

/* But allow transform transitions for hover effects */
.neo-hover {
  transition: transform 0.1s ease-out, box-shadow 0.1s ease-out;
}

/* ==========================================================================
   NEOBRUTALIST UTILITY CLASSES
   ========================================================================== */

/* Hard shadow cards */
.neo-card {
  @apply border-2 bg-white;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo);
}

.neo-card:hover {
  transform: translate(-2px, -2px);
  box-shadow: var(--shadow-neo-lg);
}

.dark .neo-card {
  @apply bg-stone-900;
}

/* Accent card variant */
.neo-card-accent {
  @apply border-2;
  border-color: var(--color-border);
  background-color: var(--color-primary-200);
  box-shadow: var(--shadow-neo);
}

.dark .neo-card-accent {
  background-color: var(--color-primary-800);
}

/* Neobrutalist buttons */
.neo-btn {
  @apply px-4 py-2 font-bold border-2 bg-white dark:bg-stone-900;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo);
  transition: transform 0.1s ease-out, box-shadow 0.1s ease-out;
}

.neo-btn:hover {
  transform: translate(-2px, -2px);
  box-shadow: var(--shadow-neo-lg);
}

.neo-btn:active {
  transform: translate(2px, 2px);
  box-shadow: none;
}

.neo-btn-primary {
  @apply px-4 py-2 font-bold border-2 text-white;
  border-color: var(--color-border);
  background-color: var(--color-primary-600);
  box-shadow: var(--shadow-neo);
  transition: transform 0.1s ease-out, box-shadow 0.1s ease-out;
}

.neo-btn-primary:hover {
  transform: translate(-2px, -2px);
  box-shadow: var(--shadow-neo-lg);
}

.neo-btn-primary:active {
  transform: translate(2px, 2px);
  box-shadow: none;
}

/* Tags/badges */
.neo-tag {
  @apply px-2 py-1 text-xs font-bold border-2 bg-white;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo-hover);
}

.neo-tag-accent {
  @apply px-2 py-1 text-xs font-bold border-2;
  border-color: var(--color-border);
  background-color: var(--color-primary-200);
  box-shadow: var(--shadow-neo-hover);
}

.dark .neo-tag {
  @apply bg-stone-800 text-white;
}

.dark .neo-tag-accent {
  @apply text-white;
  background-color: var(--color-primary-700);
}

/* Borders */
.neo-border {
  @apply border-2;
  border-color: var(--color-border);
}

.neo-border-thick {
  @apply border-4;
  border-color: var(--color-border);
}

/* Section dividers */
.neo-divider {
  @apply border-t-4;
  border-color: var(--color-border);
}

/* Custom link styles */
a {
  @apply underline-offset-2;
}

/* Code blocks with neobrutalist style */
code {
  font-family: var(--font-mono);
  @apply text-sm;
}

pre {
  @apply border-2 bg-white;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo);
}

pre code {
  @apply block overflow-x-auto p-4;
}

.dark pre {
  @apply bg-stone-900;
}

/* Headings with display font (JetBrains Mono for that engineer feel) */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-display);
  letter-spacing: -0.025em;
}

/* UI elements use display font for consistency */
nav, button, .neo-btn, .neo-tag, .neo-nav-active, label, th {
  font-family: var(--font-display);
}

/* Prose adjustments - readable body text with character */
.prose {
  font-family: var(--font-body);
  --tw-prose-body: #292524;
  --tw-prose-headings: #000;
  --tw-prose-bold: #000;
  color: #292524;
  font-size: 1.0625rem;
  line-height: 1.7;
}

.prose a {
  @apply font-semibold;
  color: var(--color-link);
  text-decoration-thickness: 2px;
}

/* Dark mode uses --color-link which is already set to palette-light */

.prose strong {
  @apply font-bold;
  color: #000;
}

.prose p, .prose li, .prose blockquote {
  color: #292524;
}

/* Prose headings keep the monospace character */
.prose h1, .prose h2, .prose h3, .prose h4 {
  font-family: var(--font-display);
  letter-spacing: -0.025em;
}

.dark .prose {
  --tw-prose-body: #e7e5e4;
  --tw-prose-headings: #fff;
  --tw-prose-bold: #fff;
  color: #e7e5e4;
}

.dark .prose p, .dark .prose li, .dark .prose blockquote {
  color: #e7e5e4;
}

.dark .prose strong {
  color: #fff;
}

/* Avatar with neobrutalist border */
.neo-avatar {
  @apply border-4;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo);
}

/* Stats/numbers with accent background */
.neo-stat {
  @apply font-bold;
  font-family: var(--font-display);
  color: var(--color-primary-600);
}

.dark .neo-stat {
  color: var(--color-primary-400);
}

/* Icon boxes */
.neo-icon-box {
  @apply w-12 h-12 flex items-center justify-center border-2;
  border-color: var(--color-border);
  background-color: var(--color-primary-200);
  box-shadow: var(--shadow-neo-hover);
}

.dark .neo-icon-box {
  background-color: var(--color-primary-800);
}

/* Input fields */
.neo-input {
  @apply w-full px-4 py-2 border-2 bg-white;
  border-color: var(--color-border);
  box-shadow: var(--shadow-neo);
}

.neo-input:focus {
  @apply outline-none;
  box-shadow: var(--shadow-neo-lg);
}

.dark .neo-input {
  @apply bg-stone-900 text-white;
}

/* Marquee/highlight sections */
.neo-highlight {
  @apply py-4 border-y-4;
  border-color: var(--color-border);
  background-color: var(--color-primary-200);
}

.dark .neo-highlight {
  background-color: var(--color-primary-900);
}

/* Navigation - Bold neobrutalist treatment */
.neo-nav-item {
  @apply border-2 font-bold uppercase tracking-wide;
  position: relative;
  border-color: transparent;
  transition: transform 0.15s ease-out, box-shadow 0.15s ease-out, background-color 0.15s ease-out, border-color 0.15s ease-out;
}

.neo-nav-item:hover {
  z-index: 10;
  border-color: var(--color-border);
  background-color: var(--color-primary-100);
  transform: translate(-2px, -2px);
  box-shadow: 2px 2px 0 0 var(--color-border);
}

.dark .neo-nav-item:hover {
  background-color: var(--color-primary-900);
}

/* Active state - prominent "you are here" signal */
.neo-nav-active {
  @apply border-2 font-bold uppercase tracking-wide;
  position: relative;
  z-index: 5;
  border-color: var(--color-border);
  background-color: var(--color-primary-300);
  box-shadow: var(--shadow-neo);
}

.dark .neo-nav-active {
  background-color: var(--color-primary-700);
}

/* ==========================================================================
   SPACING RHYTHM SYSTEM
   Creates visual hierarchy through varied spacing
   ========================================================================== */

/* Section spacing - creates breathing room between major content blocks */
.section-tight {
  @apply py-8 md:py-12;  /* 32-48px - for dense, related content */
}

.section-normal {
  @apply py-12 md:py-16;  /* 48-64px - standard sections */
}

.section-relaxed {
  @apply py-16 md:py-24;  /* 64-96px - primary content, hero areas */
}

.section-generous {
  @apply py-20 md:py-32;  /* 80-128px - major breaks, featured content */
}

/* Content spacing within sections */
.content-tight {
  @apply space-y-3;  /* 12px - tightly related items */
}

.content-normal {
  @apply space-y-6;  /* 24px - standard content flow */
}

.content-relaxed {
  @apply space-y-8 md:space-y-12;  /* 32-48px - distinct content blocks */
}

/* Heading to content spacing */
.heading-space-tight {
  @apply mb-4;  /* 16px */
}

.heading-space-normal {
  @apply mb-6 md:mb-8;  /* 24-32px */
}

.heading-space-relaxed {
  @apply mb-8 md:mb-12;  /* 32-48px */
}
